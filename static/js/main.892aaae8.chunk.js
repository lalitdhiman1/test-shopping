(this["webpackJsonpadobe-assignment"]=this["webpackJsonpadobe-assignment"]||[]).push([[0],{32:function(e,t,a){e.exports=a(44)},37:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=(a(37),a(11)),o=a(2),s=a(13),u=a(14),m=a(6),d={productList:[],isCartEmpty:!0,cartList:[],cartCount:0},p=function(e,t,a){for(var n=t.length-1,r=0;r<n;++r){var c=t[r];c in e||(e[c]={}),e=e[c]}e[t[n]]=a};var f={isToastActive:!1,toastMessage:""};var E=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),v=Object(s.b)({listingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":var a,n=t.payload.id,r=e.cartList,c=e.productList,i=e.cartCount,l=r[n];l?a=l.count+1:(l=c.find((function(e){return e.id===n})),a=1);var o=l.id,s=Object(m.a)({},e.cartList,Object(u.a)({},o,Object(m.a)({},l,{count:a}))),f=i+1;return Object(m.a)({},e,{cartList:s,cartCount:f});case"REMOVE_ITEM":var E=t.payload.id,v=e.cartList,h=e.cartCount,g=v[E],y=g.count-1,b=g.id,N=Object(m.a)({},e.cartList,Object(u.a)({},b,Object(m.a)({},g,{count:y}))),_=h-1;return Object(m.a)({},e,{cartList:N,cartCount:_});case"SET_PRODUCTS":case"SORT_DESC":return Object(m.a)({},e,{},t.payload);case"DETELE_ITEM":var L=t.payload.id,C=e.cartList,S=e.cartCount,I=C[L].count,k=S-I,O={},P=Object.keys(C),j=P.filter((function(e){return e.indexOf(L)}));return j.map((function(e){return p(O,[e],C[e]),null})),Object(m.a)({},e,{cartList:O,cartCount:k});default:return e}},toastReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOAST":return Object(m.a)({},e,{},t.payload);default:return e}}}),h=Object(s.c)(v,E);h.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log("not able to save state")}}({listingReducer:h.getState().listingReducer})}));var g=h;a(42);var y=function(){return r.a.createElement("footer",null,"\xa9copyright")},b=a(10),N=a(25),_=a(26),L=a(30),C=a(27),S=a(31),I=function(e){return{type:"SET_PRODUCTS",payload:e}},k=function(e){return{type:"ADD_ITEM",payload:e}},O=function(e,t){return e-e*(t/100)},P=function(e){var t=e.itemDetails,a=e.addItem;return r.a.createElement("div",{className:"item"},r.a.createElement("img",{className:"item-image",alt:t.name,src:t.img_url}),r.a.createElement("span",{className:"name"},t.name),r.a.createElement("span",{className:"price"},"\u20b9",O(t.price,t.discount)," ",r.a.createElement("span",{className:"discount"},t.price)," ",r.a.createElement("span",{className:"off"},t.discount,"% off")),r.a.createElement("button",{className:"addtocart-btn",onClick:function(){return a(t.id)}},"Add to cart"))};var j=Object(o.b)((function(e){return{productList:e.listingReducer.productList,cartList:e.listingReducer.cartList,cartCount:e.listingReducer.cartCount}}),(function(e){return{setProductList:function(t){return e(I(t))},addItemMethod:function(t){return e(k(t))},sortingMethod:function(t){return e({type:"SORT_DESC",payload:t})}}}))((function(e){var t=function(e){return function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}},a=function(a){"desc"===a?(e.productList.sort(t("price")).reverse(),document.querySelector(".price__highlow").classList.add("select"),document.querySelector(".price__lowhigh").classList.remove("select"),document.querySelector(".price__discount").classList.remove("select")):"asc"===a?(e.productList.sort(t("price")),document.querySelector(".price__highlow").classList.remove("select"),document.querySelector(".price__lowhigh").classList.add("select"),document.querySelector(".price__discount").classList.remove("select")):"discount"===a&&(e.productList.sort(t("discount")).reverse(),document.querySelector(".price__highlow").classList.remove("select"),document.querySelector(".price__lowhigh").classList.remove("select"),document.querySelector(".price__discount").classList.add("select")),e.handleClick(e.productList)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sort_by"},r.a.createElement("h2",null,"Sort by"),r.a.createElement("span",{onClick:function(){return a("desc")},className:"price__highlow"},"Price -- High Low"),r.a.createElement("span",{onClick:function(){return a("asc")},className:"price__lowhigh"},"Price -- Low High"),r.a.createElement("span",{onClick:function(){return a("discount")},className:"price__discount"},"Discount")),r.a.createElement("div",{className:"sort_by mobile mainMobileSort"},r.a.createElement("h2",null,"Sort by"),r.a.createElement("div",{className:"sorting"},r.a.createElement("input",{type:"radio",name:"sorting",id:"input1",value:"desc"}),r.a.createElement("label",{for:"input1"},"Price -- High Low")),r.a.createElement("div",{className:"sorting"},r.a.createElement("input",{type:"radio",name:"sorting",id:"input2",value:"asc"}),r.a.createElement("label",{for:"input2"},"Price -- Low High")),r.a.createElement("div",{className:"sorting"},r.a.createElement("input",{type:"radio",name:"sorting",id:"input3",value:"discount"}),r.a.createElement("label",{for:"input3"},"Price -- Discount")),r.a.createElement("button",{onClick:function(){return e.mobileCloseSorting()},className:"cancel__button"},"Cancel"),r.a.createElement("button",{onClick:function(){return function(){for(var t=document.getElementsByName("sorting"),n="",r=0;r<t.length;r++)t[r].checked&&(n=t[r].value);console.log(n),a(n),e.mobileCloseSorting()}()},className:"apply__button"},"Apply")),r.a.createElement("div",{className:"showMobilePanel"},r.a.createElement("div",{className:"sort"},r.a.createElement("span",{onClick:function(){return e.sortingDiv()}},"Sort",r.a.createElement("i",{className:"fa fa-sort","aria-hidden":"true"}))),r.a.createElement("div",{className:"filter"},r.a.createElement("span",{onClick:function(){return e.filteringDiv()}},r.a.createElement("i",{className:"fa fa-filter","aria-hidden":"true"}),"Filter"))))}));var R=function(e){return r.a.createElement("div",{className:"list-container",id:"list-container"},e.itemContainer)},D=a(19),w=a.n(D);var x=Object(o.b)((function(e){return{productList:e.listingReducer.productList}}),(function(e){return{setProductList:function(t){return e(I(t))}}}))((function(e){return r.a.useEffect((function(){0!==e.minVal&&0!==e.maxVal&&function(e,t){document.getElementById("rangeSliderDiv").innerHTML='<div class="range-slider" id="facet-price-range-slider">\n        <p class="price__p">Price</p>\n        <input id="minValue" name="range-1" value="0" min="'.concat(e,'" max="').concat(t,'" step="1" type="range">\n        <input id="maxValue" name="range-2" value="').concat(t,'" min="').concat(e,'" max="').concat(t,'" step="1" type="range">\n        \n        </div>\n        ');var a=document.querySelector("#facet-price-range-slider");a.length>0&&a.RangeSlider({output:{format:function(e){return e.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},suffix:function(e){return parseInt(w()(e).val())===parseInt(w()(e).attr("max"))?this.config.maxSymbol:""}}})}(e.minVal,e.maxVal)}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"rangeSliderDiv"}),r.a.createElement("button",{onClick:function(){return e.mobileCloseLeftPanel()},className:"cancel__button"},"Cancel"),r.a.createElement("button",{onClick:function(){return function(){var t=document.querySelector("#minValue").value,a=document.querySelector("#maxValue").value,n=e.productList.filter((function(e){return e.price>=t}));n=n.filter((function(e){return e.price<=a})),e.handleRangeSlider(n),e.mobileCloseLeftPanel()}()},className:"apply__button mobile"},"Apply"),r.a.createElement("button",{onClick:function(){return function(){var t=document.querySelector("#minValue").value,a=document.querySelector("#maxValue").value,n=e.productList.filter((function(e){return e.price>=t}));n=n.filter((function(e){return e.price<=a})),e.handleRangeSlider(n)}()},className:"apply__button desktop"},"Apply"))})),M=a(29);var q=Object(o.b)((function(e){return{productList:e.listingReducer.productList}}),(function(e){return{setProductList:function(t){return e(I(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),c=a[0],i=a[1],l=e.productList;return r.a.createElement("div",{className:"header__search"},r.a.createElement("form",{id:"header__searchForm"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),r.a.createElement("input",{onChange:function(t){return function(t){t.preventDefault();var a=t.target.value;i(t.target.value);var n,r=l.filter((n=a,function(e){return e.name.toLowerCase().includes(n.toLowerCase())||!n})).map((function(e){return e}));e.handleSearch(r)}(t)},value:c,type:"text",name:"search",id:"search"})))}));var V=function(e){return r.a.createElement("div",{className:"cart"},r.a.createElement("span",{className:"cart-icon"},r.a.createElement(l.b,{to:"/checkout"},r.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}),e.cartCount>0&&r.a.createElement("span",{className:"label dataCount"},e.cartCount))))};var T=Object(o.b)((function(e){return{productList:e.listingReducer.productList,cartList:e.listingReducer.cartList,cartCount:e.listingReducer.cartCount}}),(function(e){return{setProductList:function(t){return e(I(t))},addItemMethod:function(t){return e(k(t))}}}))((function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("span",{className:"header__star"},r.a.createElement("i",{className:"fa fa-star","aria-hidden":"true"})),r.a.createElement(q,{handleSearch:e.handleSearch}),r.a.createElement(V,{cartCount:e.cartCount}))})),A=function(e){function t(e){var a;Object(N.a)(this,t),(a=Object(L.a)(this,Object(C.a)(t).call(this,e))).addItem=function(e){(0,a.props.addItemMethod)({id:e})},a.mobileCloseLeftPanel=function(){document.querySelector(".leftPanel").style.display="none",document.querySelector(".black-overlay").style.display="none"},a.mobileCloseSorting=function(){document.querySelector(".mainMobileSort").style.display="none",document.querySelector(".black-overlay").style.display="none"},a.sortingDiv=function(){document.querySelector(".mainMobileSort").style.display="block",document.querySelector(".black-overlay").style.display="block"},a.filteringDiv=function(){document.querySelector(".leftPanel").style.display="block",document.querySelector(".black-overlay").style.display="block"},a.renderItemCard=function(e){if(e.length>0){var t=e.map((function(e){return r.a.createElement(P,{key:e.id,itemDetails:e,addItem:a.addItem})}));return a.setState({pageItem:t})}return r.a.createElement("div",{className:"text-center"}," No results found ")},a.state={pageItem:[],minVal:0,maxVal:0};var n=e.setProductList;return fetch("https://api.myjson.com/bins/qzuzi").then((function(e){return e.json()})).then((function(e){e.map((function(e){return e.discountPrice=e.price-e.price*e.discount/100}));var t=Math.min.apply(Math,e.map((function(e){return e.price}))),r=Math.max.apply(Math,e.map((function(e){return e.price})));a.setState({minVal:t,maxVal:r}),n({productList:e})})),a.renderItemCard=a.renderItemCard.bind(),a}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.productList!==e.productList&&this.renderItemCard(this.props.productList)}},{key:"render",value:function(){var e=this.props,t=(this.renderItemCard,e.productList,e.cartCount);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"black-overlay"}),r.a.createElement(T,{handleSearch:this.renderItemCard,cartCount:t}),r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"leftPanel"},r.a.createElement("h3",null,"Filters"),r.a.createElement(x,{mobileCloseLeftPanel:this.mobileCloseLeftPanel,handleRangeSlider:this.renderItemCard,minVal:this.state.minVal,maxVal:this.state.maxVal})),r.a.createElement("div",{className:"rightPanel"},r.a.createElement(j,{filteringDiv:this.filteringDiv,sortingDiv:this.sortingDiv,mobileCloseSorting:this.mobileCloseSorting,handleClick:this.renderItemCard}),r.a.createElement(R,{itemContainer:this.state.pageItem}))))}}]),t}(n.Component),F=Object(o.b)((function(e){return{productList:e.listingReducer.productList,cartList:e.listingReducer.cartList,cartCount:e.listingReducer.cartCount}}),(function(e){return{setProductList:function(t){return e(I(t))},addItemMethod:function(t){return e(k(t))}}}))(A),B=Object(o.b)((function(e){return{cartList:e.listingReducer.cartList}}),(function(e){return{addItemMethod:function(t){return e(k(t))},removeItem:function(t){return e({type:"REMOVE_ITEM",payload:t})},deleteItem:function(t){return e({type:"DETELE_ITEM",payload:t})}}}))((function(e){var t=e.item,a=e.addItemMethod,n=e.removeItem,c=e.deleteItem;return r.a.createElement("div",{className:"cart__item"},r.a.createElement("div",{className:"cart__image"},r.a.createElement("img",{src:t.img_url,alt:t.name})),r.a.createElement("div",{className:"cart__desc"},r.a.createElement("span",{className:"name"},t.name),r.a.createElement("span",{className:"price"},"\u20b9",O(t.price,t.discount),r.a.createElement("span",{className:"discount"},"\u20b9",t.price),r.a.createElement("span",{className:"off"},t.discount,"% off"))),r.a.createElement("div",{className:"cart__control"},r.a.createElement("div",{className:"cart-item",onClick:1===t.count?function(){return c({id:t.id})}:function(){return n({id:t.id})},onKeyPress:1===t.count?function(){return c({id:t.id})}:function(){return n({id:t.id})},role:"button",tabIndex:0},"-"),r.a.createElement("p",{className:"cart-item-quantity"},t.count),r.a.createElement("div",{className:"cart-item",onClick:function(){return a({id:t.id})},onKeyPress:function(){return a({id:t.id})},role:"button",tabIndex:0},"+")),r.a.createElement("div",{className:"cart__action"},r.a.createElement("div",{className:"cart-item-delete",onClick:function(){return c({id:t.id})},onKeyPress:function(){return c({id:t.id})},role:"button",tabIndex:0},"Remove")))})),H=function(e){var t=e.price,a=e.discount,n=e.cartCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"priceBox"},r.a.createElement("div",{className:"originalPrice cartpageDiv"},r.a.createElement("span",{className:"priceItems"},"Price(",n," ",n>1?"Items":"Item",")"),r.a.createElement("span",{className:"columns"},":"),r.a.createElement("span",{className:"price"},"\u20b9",t)),r.a.createElement("div",{className:"discountPrice cartpageDiv"},r.a.createElement("span",{className:"priceItems"},"Discount"),r.a.createElement("span",{className:"columns"},":"),r.a.createElement("span",{className:"price"},"\u20b9",a))),r.a.createElement("div",{className:"totalPayable"},r.a.createElement("span",{className:"priceItems"},"Total Payable"),r.a.createElement("span",{className:"columns"}),r.a.createElement("span",{className:"price"},"\u20b9",t-a)))},J=function(e,t){var a=0,n=0,c=0;return e.map((function(e){a+=e.price*e.count,n+=e.price*(e.discount/100)*e.count,c+="fiction"===e.type?.15*e.price*e.count:0})),function(e,t,a,n){return r.a.createElement(H,{price:e,discount:t,typeDiscount:a,cartCount:n})}(a,n,c,t)},K=Object(o.b)((function(e){return{cartList:e.listingReducer.cartList,cartCount:e.listingReducer.cartCount}}))((function(e){var t=e.cartCount;t<=0&&function(e){e.router.push("/home")}(e);var a=Object.keys(e.cartList).map((function(t){return e.cartList[t]}));return r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement("span",{className:"header__star"},r.a.createElement("i",{className:"fa fa-star","aria-hidden":"true"})),r.a.createElement("div",{className:"header__search"},r.a.createElement("form",{id:"searchForm"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),r.a.createElement("input",{type:"text",name:"search",id:"search"})))),r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"cart___leftpanel"},a.map((function(e){return r.a.createElement(B,{key:e.id,item:e})}))),r.a.createElement("div",{className:"cart___rightpanel"},r.a.createElement("div",{className:"rightPanel__box"},r.a.createElement("h2",null,"Price details"),J(a,t)))))})),W=r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",exact:!0,component:F}),r.a.createElement(b.a,{path:"/checkout",component:K}));var z=function(){return r.a.createElement(o.a,{store:g},r.a.createElement(l.a,null,W,r.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.892aaae8.chunk.js.map